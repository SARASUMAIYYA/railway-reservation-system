{"ast":null,"code":"import _defineProperty from \"C:/Users/saras/Downloads/railway-reservation-system-master/railway-reservation-system-master/web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"C:/Users/saras/Downloads/railway-reservation-system-master/railway-reservation-system-master/web/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/saras/Downloads/railway-reservation-system-master/railway-reservation-system-master/web/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/saras/Downloads/railway-reservation-system-master/railway-reservation-system-master/web/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/saras/Downloads/railway-reservation-system-master/railway-reservation-system-master/web/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\saras\\\\Downloads\\\\railway-reservation-system-master\\\\railway-reservation-system-master\\\\web\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Modal, Button, Form, Image, Row } from 'react-bootstrap';\nimport { login } from '../Services';\nimport { getHash } from './commons/Functions';\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n  var _super = _createSuper(Login);\n  function Login(props, context) {\n    var _this;\n    _classCallCheck(this, Login);\n    _this = _super.call(this, props, context);\n    _this.handleChange = function (type) {\n      return function (event) {\n        var value = event;\n        if (event.target) {\n          value = event.target.value;\n        }\n        _this.setState(_defineProperty({}, type, value));\n      };\n    };\n    _this.handleSubmit = function (event) {\n      _this.setState({\n        modalShowErr: false\n      });\n      var form = event.currentTarget;\n      if (form.checkValidity() === true) {\n        login({\n          username: _this.state.username,\n          password: getHash(_this.state.password)\n        }).then(function (res) {\n          localStorage.setItem('user', JSON.stringify(res));\n          _this.props.handleClose();\n        }).catch(function (err) {\n          console.log(err);\n          _this.setState({\n            modalShowErr: true\n          });\n        });\n      }\n      event.preventDefault();\n      event.stopPropagation();\n    };\n    _this.joinClick = function () {\n      _this.props.handleClose();\n      _this.props.handleRegisterShow();\n    };\n    _this.state = {\n      // validated: false,\n      modalShowErr: false,\n      modalErrMsg: \"Incorrect username or password!!!\",\n      username: \"\",\n      password: \"\"\n    };\n    _this.baseState = _this.state;\n    return _this;\n  }\n  _createClass(Login, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState(this.baseState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      return /*#__PURE__*/React.createElement(Modal, {\n        show: this.props.showLogin,\n        onHide: this.props.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        onSubmit: function onSubmit(e) {\n          return _this2.handleSubmit(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Header, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Modal.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        src: require(\"../images/login.png\"),\n        width: \"30%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: \"formBasicEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n        required: true,\n        type: \"username\",\n        placeholder: \"Enter email\",\n        onChange: this.handleChange('username'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: \"formBasicPassword\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n        required: true,\n        type: \"password\",\n        placeholder: \"Enter Password\",\n        onChange: this.handleChange('password'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }\n      })), this.state.modalShowErr && /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 53\n        }\n      }, this.state.modalErrMsg), /*#__PURE__*/React.createElement(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        block: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }\n      }, \"Sign in\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"light\",\n        block: true,\n        onClick: this.joinClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }\n      }, \"Join Now\"))));\n    }\n  }]);\n  return Login;\n}(Component);\nexport default Login;","map":{"version":3,"names":["React","Component","Modal","Button","Form","Image","Row","login","getHash","Login","_Component","_inherits","_super","_createSuper","props","context","_this","_classCallCheck","call","handleChange","type","event","value","target","setState","_defineProperty","handleSubmit","modalShowErr","form","currentTarget","checkValidity","username","state","password","then","res","localStorage","setItem","JSON","stringify","handleClose","catch","err","console","log","preventDefault","stopPropagation","joinClick","handleRegisterShow","modalErrMsg","baseState","_createClass","key","componentWillUnmount","render","_this2","createElement","show","showLogin","onHide","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","e","Header","closeButton","Body","style","alignItems","justifyContent","src","require","width","Group","controlId","Label","Control","required","placeholder","onChange","color","variant","block","Footer","onClick"],"sources":["C:/Users/saras/Downloads/railway-reservation-system-master/railway-reservation-system-master/web/src/components/Login.js"],"sourcesContent":["import React, { Component } from 'react'\n\nimport { Modal, Button, Form, Image, Row } from 'react-bootstrap'\nimport { login } from '../Services'\nimport { getHash } from './commons/Functions'\n\nclass Login extends Component {\n\n    constructor(props, context) {\n        super(props, context)\n        this.state = {\n            // validated: false,\n            modalShowErr: false,\n            modalErrMsg: \"Incorrect username or password!!!\",\n            username: \"\",\n            password: \"\",\n        }\n        this.baseState = this.state\n    }\n\n    componentWillUnmount() {\n        this.setState(this.baseState)\n    }\n\n    handleChange = type => event => {\n        let value = event;\n        if (event.target) {\n            value = event.target.value;\n        }\n        this.setState({ [type]: value })\n    }\n\n    handleSubmit = event => {\n        this.setState({ modalShowErr: false })\n        const form = event.currentTarget\n\n        if (form.checkValidity() === true) {\n            login({ username: this.state.username, password: getHash(this.state.password) })\n                .then(res => {\n                    localStorage.setItem('user', JSON.stringify(res))\n                    this.props.handleClose()\n                })\n                .catch(err => {\n                    console.log(err)\n                    this.setState({ modalShowErr: true })\n                })\n        }\n        event.preventDefault()\n        event.stopPropagation()\n    }\n\n    joinClick = () => {\n        this.props.handleClose()\n        this.props.handleRegisterShow()\n    }\n\n    render() {\n        return (\n            <Modal show={this.props.showLogin} onHide={this.props.handleClose}>\n                <Form onSubmit={e => this.handleSubmit(e)}>\n                    <Modal.Header closeButton>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Row style={{ alignItems: 'center', justifyContent: 'center' }}>\n                            <Image src={require(\"../images/login.png\")} width='30%' />\n                        </Row>\n                        <Form.Group controlId=\"formBasicEmail\">\n                            <Form.Label>Email</Form.Label>\n                            <Form.Control required type=\"username\" placeholder=\"Enter email\" onChange={this.handleChange('username')} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicPassword\">\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control required type=\"password\" placeholder=\"Enter Password\" onChange={this.handleChange('password')} />\n                        </Form.Group>\n                        {this.state.modalShowErr && <p style={{ color: 'red' }}>{this.state.modalErrMsg}</p>}\n                        <Button variant=\"primary\" type=\"submit\" block>\n                            Sign in\n                        </Button>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"light\" block onClick={this.joinClick}>\n                            Join Now\n                        </Button>\n                    </Modal.Footer>\n                </Form>\n            </Modal>\n        );\n    }\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}